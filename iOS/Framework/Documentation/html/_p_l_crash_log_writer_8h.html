<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>AppBlade: AppBlade/CrashReporter/Source/PLCrashLogWriter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AppBlade
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">iOS Client-side SDK for Interacting with AppBlade</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_81114da1203a0d1eac5e7ccc06d4dc1c.html">AppBlade</a></li><li class="navelem"><a class="el" href="dir_ac01f19844722097b82d21d0e848f7b3.html">CrashReporter</a></li><li class="navelem"><a class="el" href="dir_0fca67d1c855a7ca1d206d6b1099effe.html">Source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PLCrashLogWriter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#import &lt;TargetConditionals.h&gt;</code><br/>
<code>#import &lt;Foundation/Foundation.h&gt;</code><br/>
<code>#import &quot;<a class="el" href="_p_l_crash_async_8h_source.html">PLCrashAsync.h</a>&quot;</code><br/>
<code>#import &quot;<a class="el" href="_p_l_crash_async_image_8h_source.html">PLCrashAsyncImage.h</a>&quot;</code><br/>
</div>
<p><a href="_p_l_crash_log_writer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplcrash__log__writer.html">plcrash_log_writer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aad573fb0d6eb71d878d6a74ca92764a2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structplcrash__log__writer.html">plcrash_log_writer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a></td></tr>
<tr class="separator:aad573fb0d6eb71d878d6a74ca92764a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8709ae6f2b298d25b00d760559b1edc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#a8709ae6f2b298d25b00d760559b1edc8">plcrash_log_writer_init</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer, NSString *app_identifier, NSString *app_version)</td></tr>
<tr class="separator:a8709ae6f2b298d25b00d760559b1edc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80abcafc109ea926097a0cb0ee870b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#ac80abcafc109ea926097a0cb0ee870b6">plcrash_log_writer_set_exception</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer, NSException *exception)</td></tr>
<tr class="separator:ac80abcafc109ea926097a0cb0ee870b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7fc1c0ffb322b8de932a1e9e2dd480"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#a1d7fc1c0ffb322b8de932a1e9e2dd480">plcrash_log_writer_add_image</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer, const void *header_addr)</td></tr>
<tr class="separator:a1d7fc1c0ffb322b8de932a1e9e2dd480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f781b8f2fae4eba0c4eb00c3edad963"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#a5f781b8f2fae4eba0c4eb00c3edad963">plcrash_log_writer_remove_image</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer, const void *header_addr)</td></tr>
<tr class="separator:a5f781b8f2fae4eba0c4eb00c3edad963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7715b2f68617b2d3d595205e62b932fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#a7715b2f68617b2d3d595205e62b932fd">plcrash_log_writer_write</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer, <a class="el" href="_p_l_crash_async_8h.html#ab7b67582e3e17dbcceef5c4db17bfd90">plcrash_async_file_t</a> *file, siginfo_t *siginfo, ucontext_t *crashctx)</td></tr>
<tr class="separator:a7715b2f68617b2d3d595205e62b932fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ef6acd5b45baf6dd6b84a1eb8e04bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#ae3ef6acd5b45baf6dd6b84a1eb8e04bc">plcrash_log_writer_close</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer)</td></tr>
<tr class="separator:ae3ef6acd5b45baf6dd6b84a1eb8e04bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf768afab874fdff860485e84781efba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_l_crash_log_writer_8h.html#aaf768afab874fdff860485e84781efba">plcrash_log_writer_free</a> (<a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *writer)</td></tr>
<tr class="separator:aaf768afab874fdff860485e84781efba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aad573fb0d6eb71d878d6a74ca92764a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structplcrash__log__writer.html">plcrash_log_writer</a>  <a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1d7fc1c0ffb322b8de932a1e9e2dd480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plcrash_log_writer_add_image </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>header_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a binary image with this writer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>The writer to which the image's information will be added. </td></tr>
    <tr><td class="paramname">header_addr</td><td>The image's address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function is not async safe, and must be called outside of a signal handler. </dd></dl>

</div>
</div>
<a class="anchor" id="ae3ef6acd5b45baf6dd6b84a1eb8e04bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a> plcrash_log_writer_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the plcrash_writer_t output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>Writer instance to be closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaf768afab874fdff860485e84781efba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plcrash_log_writer_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free any crash log writer resources.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method is not async safe. </dd></dl>

</div>
</div>
<a class="anchor" id="a8709ae6f2b298d25b00d760559b1edc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a> plcrash_log_writer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>app_identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>app_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a new crash log writer instance and issue a memory barrier upon completion. This fetches all necessary environment information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>Writer instance to be initialized. </td></tr>
    <tr><td class="paramname">app_identifier</td><td>Unique per-application identifier. On Mac OS X, this is likely the CFBundleIdentifier. </td></tr>
    <tr><td class="paramname">app_version</td><td>Application version string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If this function fails, <a class="el" href="_p_l_crash_log_writer_8h.html#aaf768afab874fdff860485e84781efba">plcrash_log_writer_free()</a> should be called to free any partially allocated data.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function is not guaranteed to be async-safe, and must be called prior to enabling the crash handler. </dd></dl>

</div>
</div>
<a class="anchor" id="a5f781b8f2fae4eba0c4eb00c3edad963"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plcrash_log_writer_remove_image </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>header_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deregister a binary image from this writer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>The writer from which the image's information will be removed. </td></tr>
    <tr><td class="paramname">header_addr</td><td>The image's address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function is not async safe, and must be called outside of a signal handler. </dd></dl>

</div>
</div>
<a class="anchor" id="ac80abcafc109ea926097a0cb0ee870b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plcrash_log_writer_set_exception </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NSException *&#160;</td>
          <td class="paramname"><em>exception</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the uncaught exception for this writer. Once set, this exception will be used to provide exception data for the crash log output.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is not async safe, and must be called outside of a signal handler. </dd></dl>

</div>
</div>
<a class="anchor" id="a7715b2f68617b2d3d595205e62b932fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_l_crash_async_8h.html#a5161294ee06441151240282405746a1e">plcrash_error_t</a> plcrash_log_writer_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_l_crash_log_writer_8h.html#aad573fb0d6eb71d878d6a74ca92764a2">plcrash_log_writer_t</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_l_crash_async_8h.html#ab7b67582e3e17dbcceef5c4db17bfd90">plcrash_async_file_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">siginfo_t *&#160;</td>
          <td class="paramname"><em>siginfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucontext_t *&#160;</td>
          <td class="paramname"><em>crashctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the crash report. All other running threads are suspended while the crash report is generated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>The writer context </td></tr>
    <tr><td class="paramname">file</td><td>The output file. </td></tr>
    <tr><td class="paramname">siginfo</td><td>Signal information </td></tr>
    <tr><td class="paramname">crashctx</td><td>Context of the crashed thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This method must only be called from the thread that has triggered the crash. This must correspond to the provided crashctx. Failure to adhere to this requirement will result in an invalid stack trace and thread dump. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 5 2013 15:41:44 for AppBlade by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
