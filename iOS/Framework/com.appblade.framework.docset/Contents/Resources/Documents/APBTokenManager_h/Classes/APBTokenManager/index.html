<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>APBTokenManager</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<meta name="generator" content="HeaderDoc">
<meta name="xcode-display" content="render">
<style type="text/css"><!--.char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;}body {border: 0px; margin: 0px;}div {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}td {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}span.hd_tocAccessSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroupSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroup { display: block; font-weight: bold; font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; margin-left: 0px; padding-left: 40px; }span.hd_tocGroup + span.hd_tocAccess { padding-top: 5px; }td.toc_contents_text {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; }li.tocSubEntry {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}p {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}h2.h2tight { margin-top: 0px; padding-top: 0px; }h1 { margin-top: 13px; padding-top: 0px; }h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}h5 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10.1pt; font-weight: bold;}pre {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666; font-size: 10pt;}pre a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}pre a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}body  {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt; padding-left: 0px; padding-top: 0px; margin-left: 0px; margin-top: 0px; border: none; }#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }.afterName { display: none; }.list_indent { margin-left: 40px; }.declaration_indent { margin-left: 40px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; min-height: 12px; vertical-align: middle; }.declaration_indent pre { margin-top: 20px; padding-top: 0px; margin-bottom: 20px; padding-bottom: 0px; }.gapBeforeFooter { display: none; }hr { height: 0px; min-height: 0px; border-top: none; border-left: none; border-right: none; border-bottom: 1px solid #909090;}hr.afterHeader { display: none }.param_group_indent { margin-left: 25px; }.param_indent { margin-left: 40px; margin-top: 0px; padding-top: 0px; }.param_indent dl { margin-top: 4px; padding-top: 0px; }dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.param_indent dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.group_indent { margin-left: 40px; }.group_desc_indent { margin-left: 20px; }.warning_indent { margin-left: 40px; }.important_indent { margin-left: 40px; }.note_indent { margin-left: 40px; }h3 {       color: #3C4C6C;}.tight {       margin-top: 2px; margin-bottom: 0px;       padding-top: 0px; padding-bottom: 0px;}h3 a {       color: #3C4C6C;	font-size: 16px;	font-style: normal;	font-variant: normal;	font-weight: bold;	height: 0px;	line-height: normal;}.hd_tocAccess { display: block; margin-left: 40px; font-style: italic; font-size: 10px; font-weight: normal; color: #303030; }.tocSubheading { margin-bottom: 4px; }--></style>
<style><!--
body {
    padding: 0px;
    margin: 0px;
    border: 0px;
}
.toc_contents_text {
    padding-left: 1em;
    text-indent: -1em;
}

ul.tocSubEntryList li.tocSubEntry {
    list-style: none;
}

#colorbox {
		display: none;
}
.spec_sheet_line {
		margin-bottom: 1px;
}
.collapsible {
		display: none;
}
.toc_leadspace {
		width: 10; min-width: 10;
}
.disclosure_triangle_td {
		width: 14; min-width: 14;
		font-size: 10px;
		vertical-align: middle;
}
.specbox td {
		font-size: 13px;
}
.specbox td a {
		font-size: 13px;
}
.specbox td code {
		font-size: 13px;
}
.specbox td tt {
		font-size: 13px;
}
.specbox td pre {
		font-size: 13px;
}
.specbox a {
		font-size: 12px;
}
.disclosure_triangle_td a {
		text-decoration: none;
}
.disclosure_triangle_td a:link {
		text-decoration: none;
}
.disclosure_triangle_td a:active {
		text-decoration: none;
}
.disclosure_triangle_td a:visited:hover {
		text-decoration: none;
}
.disclosure_triangle_td a:hover {
		text-decoration: none;
}
.hd_toc_box {
		padding-top: 10px;
		padding-right: 15px;
}.tocSeparator {
		margin-top: 15px;
		padding-bottom: 0px;
		margin-bottom: 0px;
}
.tocSubEntryList {
		margin-left: 0px;
		padding-left: 40px;
		padding-top: 0px;
		margin-top: 2px;
		padding-bottom: 0px;
		margin-bottom: 8px;
}
.hd_toc_heading_table {
		margin-top: 2px;
		margin-bottom: 2px;
}
.hd_toc_entry_table {
		margin-top: 2px;
		margin-bottom: 2px;
}
.tocSubEntry {
		margin-left: 0px;
		padding-left: 0px;
		margin-top: 0px;
		margin-bottom: 1px;
}
.tocSubEntry a {
		font-size: 10pt;
}
.tocSubheading {
		padding-left: 14px;
		margin-left: 0px;
		margin-top: 5px;
		padding-top: 0px;
		font-size: 16px;
		color: #808080;
}

#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }
#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }
#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }

#tocMenu {
		border-right: 1px solid #c0c0c0;
		background-color: #f4f4ff;
		top:0px;
		left:0px;
		width:230px;
		height:100%;
}
#bodyContents {
		width: auto;
		padding-left: 15px;
}
--></style>
<style id="disable_before_iOS_5"><!--
#tocMenu {
		position: fixed;
		height: 100%;
		overflow: auto;
}
#bodyContents {
		width: auto;
		left: 235px;
		right: 0;
		padding-left: 15px;
		position: fixed;
		height: 100%;
		overflow-y: scroll;
}
--></style>
<script language="JavaScript" type="text/javascript"><!--
    if (navigator.platform && (navigator.platform.match(/iPad/) || navigator.platform.match(/iPhone/) || navigator.platform.match(/iPod/))) {
        if (navigator.userAgent.match(/OS 1(_\d)+/) ||
            navigator.userAgent.match(/OS 2(_\d)+/) ||
            navigator.userAgent.match(/OS 3(_\d)+/) ||
            navigator.userAgent.match(/OS 4(_\d)+/)) {
                /* Earlier iOS versions require different scrolling gestures with position: fixed. */
                var del_style_elt = document.getElementById("disable_before_iOS_5");
                if (del_style_elt) del_style_elt.parentNode.removeChild(del_style_elt);
        }
    }
// --></script><script language="JavaScript" type="text/javascript"><!--
function getNewHTTPObject()
{
        var xmlhttp;

        /** Special IE only code ... */
        /*@cc_on
          @if (@_jscript_version >= 5)
              try
              {
                  xmlhttp = new ActiveXObject('Msxml2.XMLHTTP');
              }
              catch (e)
              {
                  try
                  {
                      xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
                  }
                  catch (E)
                  {
                      xmlhttp = false;
                  }
             }
          @else
             xmlhttp = false;
        @end @*/

        /** Every other browser on the planet */
        if (!xmlhttp && typeof XMLHttpRequest != 'undefined')
        {
            try
            {
                xmlhttp = new XMLHttpRequest();
            }
            catch (e)
            {
                xmlhttp = false;
            }
        }

        return xmlhttp;
}

function hidetoc() {
	var toc = document.getElementById('tocMenu');
	var src = toc.getAttribute('src');
	var xhr = getNewHTTPObject();
	xhr.open('GET', src, true);
	xhr.onreadystatechange = function() {
		if(xhr.readyState == 4) {
			var toc = document.getElementById('tocMenu');
			toc.innerHTML = xhr.responseText;
		}
	}
	xhr.send(null);
	var origURL = parent.document.URL;
	var contentURL = origURL.substring(origURL.indexOf('?')+1, origURL.length);
	if (contentURL.length == origURL.length) {
		jumpPos = origURL.substring(origURL.indexOf('#')+1, origURL.length);
	}
	if (contentURL == "hidetoc") {
		var body = document.getElementById('bodyContents');
		if (toc && body) {
			toc.style.display = 'none';
			body.style.marginLeft = '0px';
		}
	}
}

function disclosure_triangle(elt) {
   var linkelt = elt;
   while (elt && elt.tagName != 'TABLE') { elt = elt.parentNode;}
   if (!elt) { return; }
   while (elt && elt.tagName != 'DIV') { elt = elt.nextSibling;}
   if (!elt) { return; }
   if (parseInt(linkelt.getAttribute('state'))) {
      // It's open.  Close it
      linkelt.innerHTML = '&#x25B7;';
      linkelt.setAttribute('state', 0);
      linkelt.setAttribute('class', 'closed_disclosure_triangle');
      elt.style.display = 'none';
   } else {
      // It's closed.  Open it
      linkelt.innerHTML = '&#x25BC;';
      linkelt.setAttribute('state', 1);
      linkelt.setAttribute('class', 'open_disclosure_triangle');
      elt.style.display = 'block';
   }
}
--></script><style type="text/css"><!--.char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;}body {border: 0px; margin: 0px;}div {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}td {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}span.hd_tocAccessSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroupSpace { display: block; font-size: 1px; height: 3px; min-height: 3px; }span.hd_tocGroup { display: block; font-weight: bold; font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; margin-left: 0px; padding-left: 40px; }span.hd_tocGroup + span.hd_tocAccess { padding-top: 5px; }td.toc_contents_text {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000; }li.tocSubEntry {font-size: 11pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}p {font-size: 10pt; text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #000000;}a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; color: #36c;}h2.h2tight { margin-top: 0px; padding-top: 0px; }h1 { margin-top: 13px; padding-top: 0px; }h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}h5 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10.1pt; font-weight: bold;}pre {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666; font-size: 10pt;}pre a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}pre a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}pre a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}code a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}code a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a { font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt;}tt a:link { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:visited:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:active { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}tt a:hover { font-family: Courier, Consolas, monospace; color: #36c;font-size: 10pt;}body  {text-decoration: none; font-family: Courier, Consolas, monospace; color: #666;font-size: 10pt; padding-left: 0px; padding-top: 0px; margin-left: 0px; margin-top: 0px; border: none; }#hd_outermost_table { margin-left: 0px; border-spacing: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; }#hd_outermost_table > tbody > tr { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-left: 0px; padding-top: 0px; border: none; }#hd_outermost_table > tbody > tr > td { border-spacing: 0px; margin-left: 0px; margin-top: 0px; padding-top: 3px; }.afterName { display: none; }.list_indent { margin-left: 40px; }.declaration_indent { margin-left: 40px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; min-height: 12px; vertical-align: middle; }.declaration_indent pre { margin-top: 20px; padding-top: 0px; margin-bottom: 20px; padding-bottom: 0px; }.gapBeforeFooter { display: none; }hr { height: 0px; min-height: 0px; border-top: none; border-left: none; border-right: none; border-bottom: 1px solid #909090;}hr.afterHeader { display: none }.param_group_indent { margin-left: 25px; }.param_indent { margin-left: 40px; margin-top: 0px; padding-top: 0px; }.param_indent dl { margin-top: 4px; padding-top: 0px; }dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.param_indent dl dd > p:first-child { margin-top: 2px; padding-top: 0px; }.group_indent { margin-left: 40px; }.group_desc_indent { margin-left: 20px; }.warning_indent { margin-left: 40px; }.important_indent { margin-left: 40px; }.note_indent { margin-left: 40px; }h3 {       color: #3C4C6C;}.tight {       margin-top: 2px; margin-bottom: 0px;       padding-top: 0px; padding-bottom: 0px;}h3 a {       color: #3C4C6C;	font-size: 16px;	font-style: normal;	font-variant: normal;	font-weight: bold;	height: 0px;	line-height: normal;}.hd_tocAccess { display: block; margin-left: 40px; font-style: italic; font-size: 10px; font-weight: normal; color: #303030; }.tocSubheading { margin-bottom: 4px; }--></style>
</head>
<body bgcolor="#ffffff" onload="hidetoc();">
<!-- headerDoc=cl; uid=//apple_ref/occ/cl/APBTokenManager;  name=APBTokenManager-->
<a name="//apple_ref/occ/cl/APBTokenManager"></a><table id="hd_outermost_table" height="100%" width="100%"><tr>
<td valign="top" id="tocMenu" src="toc.html"></td>
<td id="bodyContents" valign="top">
<a name="top"></a>
<h1><a name="APBTokenManager">APBTokenManager</a></h1>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Superclass:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a logicalPath="//apple_ref/occ/cl/NSObject" machineGenerated="true" -->NSObject<!-- /a -->
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!--a href="../../index.html" logicalpath="//apple_ref/doc/framework/APBTokenManager.h" target="_top" machinegenerated="true"-->APBTokenManager.h<!-- /a -->
</div></div></td>
</tr>
</table></div>
<h2>Introduction</h2>
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/cl/APBTokenManager;name=start --><!-- begin abstract --></p>
<p>Core Manager for all Token-related requests and behavior.<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/cl/APBTokenManager;name=end --></p>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<!-- begin discussion --><!-- headerDoc=discussion;uid=//apple_ref/occ/cl/APBTokenManager;name=start --><p>Tokens are our basis for all authentication and identification for the SDK, and their use is slightly complicated to explain.
</p>
<p>Tokens are generated at registration call, and all current feature web calls require it as a header. Because of this, no other web requests can occur before a valid token is stored and confirmed.
</p>
<p>Token generation is a multi-step process:
</p>
<ol start="1">
<li><p> A token must be generated from AppBlade.
</p></li>
<li><p> The received token must be stored locally.
</p></li>
<li><p> The stored token must be sent back to AppBlade to be confirmed and activated.
</p></li>
</ol>
<p>To generate a token in step one, AppBlade requires initial credentials. These credentials are either the API "Project Secret" &mdash; which exists in your AppBlade.plist file &ndash; or the value of an embedded token that is injected into the AppBlade.plist on ipa download.  This latter token, or "Device Secret", is a pre-approved token which ties identification to the registered AppBlade device, logged in AppBlade user, and uploaded AppBlade version.
</p>
<p>Project Secrets are used for Development and App Store releases, and Device Secrets are used for AppBlade-downloaded builds. 
</p>
<p>Whenever Device Secret is mentioned in function calls, it should be considered equivalent to the current stored and usable token.
</p>
<p>Due to their complexity, Token requests are stored and managed through their own NSOperation Queue, called tokenRequest. Whenever there is a token request pending, the main request queue (called pendingRequests in AppBlade) is considered paused. Once the token refresh process completes (i.e. a token is refreshed and confrmed) The tokenRequests queue will empty and the Featire requests will resume. 
</p>
<p>If a new token cannot be generated, the AppBlade SDK searches for a reason why in the status code. 
If the status code is 401, the token expired, and a token refresh process is begun (equivalent to the process described above).
If the status code is ever 403, the token is considered forbidden and depnding on the origin of the app (AppBlade or App Store) the app is either closed or the SDK inside it is disabled.
If the status code is 500, there was an undetermined web error and the SDK retries at a later time (All pending requests remain pending).
</p>
<!-- headerDoc=discussion;uid=//apple_ref/occ/cl/APBTokenManager;name=end --><!-- end discussion -->
<hr class="afterClassOrHeaderInfo">
<br><a name="HeaderDoc_methods"></a>
<h2 class="h2tight">Methods</h2>
<dl>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret" target="_top">-appBladeDeviceSecret</a></tt></dt>
<dd><p>Getter method for for the current device secret, or active SDK token.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets" target="_top">-appBladeDeviceSecrets</a></tt></dt>
<dd><p>Helper method for retrieving all device secret data in the app keychain
</p></dd>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/confirmToken:" target="_top">-confirmToken:</a></tt></dt>
<dd><p>Begins a token confirmation call, passing the freshly retrieved token.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/isCurrentToken:" target="_top">-isCurrentToken:</a></tt></dt>
<dd><p>Checks to see ith eth passed token matches the current assumed token.
A retroactive callback to detect if an authentication failure should be respected.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/isDeviceSecretBeingConfirmed" target="_top">-isDeviceSecretBeingConfirmed</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:" target="_top">-setAppBladeDeviceSecret:</a></tt></dt>
<dd><p>Setter method for for the current device secret, or active SDK token.
</p></dd>
</dl>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret;   name=APBTokenManager::appBladeDeviceSecret --><a name="//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret"></a>
<h3><a name="appBladeDeviceSecret">appBladeDeviceSecret</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret;name=start --><!-- begin abstract --></p>
<p>Getter method for for the current device secret, or active SDK token.
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/intf/NSString //apple_ref/doc/anysymbol/NSString" machineGenerated="true" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<!-- a logicalPath="//apple_ref/occ/econst/appBladeDeviceSecret //apple_ref/occ/data/APBTokenManager/appBladeDeviceSecret //apple_ref/occ/data/appBladeDeviceSecret //apple_ref/occ/clconst/APBTokenManager/appBladeDeviceSecret " machineGenerated="true" --><span class="var">appBladeDeviceSecret</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecret;name=end --></pre>
</div>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets;   name=APBTokenManager::appBladeDeviceSecrets --><a name="//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets"></a>
<h3><a name="appBladeDeviceSecrets">appBladeDeviceSecrets</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets;name=start --><!-- begin abstract --></p>
<p>Helper method for retrieving all device secret data in the app keychain
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/NSMutableDictionary //apple_ref/occ/tdef/NSMutableDictionary //apple_ref/occ/tag/NSMutableDictionary //apple_ref/occ/struct/NSMutableDictionary //apple_ref/occ/intf/NSMutableDictionary //apple_ref/doc/anysymbol/NSMutableDictionary" machineGenerated="true" --><span class="type">NSMutableDictionary</span><!-- /a --><span class="type">*</span>) <!-- a logicalPath="//apple_ref/occ/econst/appBladeDeviceSecrets //apple_ref/occ/data/APBTokenManager/appBladeDeviceSecrets //apple_ref/occ/data/appBladeDeviceSecrets //apple_ref/occ/clconst/APBTokenManager/appBladeDeviceSecrets " machineGenerated="true" --><span class="var">appBladeDeviceSecrets</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/appBladeDeviceSecrets;name=end --></pre>
</div>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/confirmToken:;   name=APBTokenManager::confirmToken: --><a name="//apple_ref/occ/instm/APBTokenManager/confirmToken:"></a>
<h3><a name="confirmToken:">confirmToken:</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/confirmToken:;name=start --><!-- begin abstract --></p>
<p>Begins a token confirmation call, passing the freshly retrieved token.
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/confirmToken:;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/confirmToken:;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/struct/void //apple_ref/occ/intf/void //apple_ref/doc/anysymbol/void" machineGenerated="true" --><span class="type">void</span><!-- /a -->)<a machinegenerated="true" href="index.html#//apple_ref/occ/instm/APBTokenManager/confirmToken:" logicalPath="//apple_ref/occ/instm/APBTokenManager/confirmToken" target="_top"><span class="function">confirmToken</span></a>:(<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/intf/NSString //apple_ref/doc/anysymbol/NSString" machineGenerated="true" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<!-- a logicalPath="//apple_ref/occ/econst/tokenToConfirm //apple_ref/occ/data/APBTokenManager/tokenToConfirm //apple_ref/occ/data/tokenToConfirm //apple_ref/occ/clconst/APBTokenManager/tokenToConfirm " machineGenerated="true" --><span class="var">tokenToConfirm</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/confirmToken:;name=end --></pre>
</div>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/isCurrentToken:;   name=APBTokenManager::isCurrentToken: --><a name="//apple_ref/occ/instm/APBTokenManager/isCurrentToken:"></a>
<h3><a name="isCurrentToken:">isCurrentToken:</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/isCurrentToken:;name=start --><!-- begin abstract --></p>
<p>Checks to see ith eth passed token matches the current assumed token.
A retroactive callback to detect if an authentication failure should be respected.
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/isCurrentToken:;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/isCurrentToken:;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/BOOL //apple_ref/occ/tdef/BOOL //apple_ref/occ/tag/BOOL //apple_ref/occ/struct/BOOL //apple_ref/occ/intf/BOOL //apple_ref/doc/anysymbol/BOOL" machineGenerated="true" --><span class="type">BOOL</span><!-- /a -->)<a machinegenerated="true" href="index.html#//apple_ref/occ/instm/APBTokenManager/isCurrentToken:" logicalPath="//apple_ref/occ/instm/APBTokenManager/isCurrentToken" target="_top"><span class="function">isCurrentToken</span></a>:(<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/intf/NSString //apple_ref/doc/anysymbol/NSString" machineGenerated="true" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<!-- a logicalPath="//apple_ref/occ/econst/token //apple_ref/occ/data/APBTokenManager/token //apple_ref/occ/data/token //apple_ref/occ/clconst/APBTokenManager/token " machineGenerated="true" --><span class="var">token</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/isCurrentToken:;name=end --></pre>
</div>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/isDeviceSecretBeingConfirmed;   name=APBTokenManager::isDeviceSecretBeingConfirmed --><a name="//apple_ref/occ/instm/APBTokenManager/isDeviceSecretBeingConfirmed"></a>
<h3><a name="isDeviceSecretBeingConfirmed">isDeviceSecretBeingConfirmed</a></h3>
<hr class="afterName">
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/isDeviceSecretBeingConfirmed;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/BOOL //apple_ref/occ/tdef/BOOL //apple_ref/occ/tag/BOOL //apple_ref/occ/struct/BOOL //apple_ref/occ/intf/BOOL //apple_ref/doc/anysymbol/BOOL" machineGenerated="true" --><span class="type">BOOL</span><!-- /a -->)<!-- a logicalPath="//apple_ref/occ/econst/isDeviceSecretBeingConfirmed //apple_ref/occ/data/APBTokenManager/isDeviceSecretBeingConfirmed //apple_ref/occ/data/isDeviceSecretBeingConfirmed //apple_ref/occ/clconst/APBTokenManager/isDeviceSecretBeingConfirmed " machineGenerated="true" --><span class="var">isDeviceSecretBeingConfirmed</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/isDeviceSecretBeingConfirmed;name=end --></pre>
</div>
<hr class="betweenAPIEntries">
<!-- headerDoc=instm;  uid=//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:;   name=APBTokenManager::setAppBladeDeviceSecret: --><a name="//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:"></a>
<h3><a name="setAppBladeDeviceSecret:">setAppBladeDeviceSecret:</a></h3>
<hr class="afterName">
<p><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:;name=start --><!-- begin abstract --></p>
<p>Setter method for for the current device secret, or active SDK token.
<!-- end abstract --><!-- headerDoc=abstract;uid=//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:;name=end --></p>
<div class="declaration_indent">
<pre><!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:;name=start -->- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/struct/void //apple_ref/occ/intf/void //apple_ref/doc/anysymbol/void" machineGenerated="true" --><span class="type">void</span><!-- /a -->) <a machinegenerated="true" href="index.html#//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:" logicalPath="//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret" target="_top"><span class="function">setAppBladeDeviceSecret</span></a>:(<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/intf/NSString //apple_ref/doc/anysymbol/NSString" machineGenerated="true" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<!-- a logicalPath="//apple_ref/occ/econst/appBladeDeviceSecret //apple_ref/occ/data/APBTokenManager/appBladeDeviceSecret //apple_ref/occ/data/appBladeDeviceSecret //apple_ref/occ/clconst/APBTokenManager/appBladeDeviceSecret " machineGenerated="true" --><span class="var">appBladeDeviceSecret</span><!-- /a -->; <!-- headerDoc=declaration;uid=//apple_ref/occ/instm/APBTokenManager/setAppBladeDeviceSecret:;name=end --></pre>
</div>
<p class="gapBeforeFooter">&nbsp;</p>
<hr class="afterFooter">
<div class="hd_copyright_and_timestamp">
<p class="hd_timestamp">Last Updated: Friday, November 22, 2013
</p>
</div>
</td>
</tr></table>
</body>
</html>
